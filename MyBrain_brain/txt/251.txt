                    “你这不是测试驱动开发” | 外刊IT评论网
外刊IT评论
  •  首页
  •  关于我们
  •  关注我们
  •  给我来信
  •  关注我们
  •  邮件订阅
  •  分享这篇文章
  •  新浪微博
  •  QQ空间
  •  腾讯微博
  •  人人网
  •  更多分享方式
  •  65
  •  « 上一篇
  •  |
  •  下一篇 »
Search“你这不是测试驱动开发”
发表在 技术技巧 | 6条评论几个月前，我去一个客户那里，他们在使用测试驱动开发上遇到了很多问题。
“我们的单元测试用例要半个小时才能跑完，”他说。
“你们这不是在做驱动测试开发，”我说。“为了让测试发挥效能，所有的测试必须在几秒钟内能跑完，否则的话，程序员不得不频繁的停下来等待测试。”
“可是怎样才能让它们快起来？”他问，“光连接数据库就需要30秒”

 于是，我想他展示了一种叫做依赖注入的技术，它能让你使用一个伪造对象来模拟数据库。“你并不需要测试你数据库，”我说。“记住，测试应该是测试那些不受控制的东西，对于测试所依赖的东西，你应该使用模拟工具使它们处于控制之中。”
他们遇到的另外一个问题—我最近也是听到了很多次—是他们的测试程序不但没起到好的作用，反而成了一个负担。“我们三天两头的要重构程序，关联的就需要重构测试程序”，这样的话从客户那里可以经常听到。
这种问题是他们把TDD想成了QA。TDD不是QA。QA是来保证程序能正确的运行的。TDD是使用断言(assertion)来表现系统的关键特征。在QA里，我们用尽可能多的方法来测试系统中可能会出错的地方。在TDD里，我们用应尽可能少的测试来表现系统的关键特征。
我遇到的大多数开发人员都很重视代码质量，努力写出高质量的代码，程序看起来很整洁。但测试用程序也是程序，经常的我能看到测试程序就写的不是那么好。
例如，一些程序员会很认真的把产品程序里的冗余部分清理干净，但在测试程序中却留下大量的无用的代码。任何冗余都不是好事，冗余的测试也是如此，如果程序有变化，冗余的测试会花掉你额外的时间去重构。
当系统出问题时，测试程序就体现出来了它最大的价值，至少对我来说是最欣慰的时候。然而，对于系统，任何一个改动只应会让一个测试失败。换句话说，没有任何两个测试的失败原因是相同的。这说起来容易做起来难，但如果你尊重这个原则，你将会发现，当你重构代码时，重构测试程序是会容易多了。
目前就说这些问题。总之，测试也是程序，它们也要保持高质量。系统中的每个关键特征都用一个测试来表现，没有第二个测试会因为这同一个问题而失败。
你怎么看待这些问题？我很想听听你的想法和建议。不要犹豫，请在评论里分享你的观点。
[英文原文：“That’s Not TDD” ] 此条目发表在技术技巧分类目录，贴了TDD, 驱动测试开发标签。将固定链接加入收藏夹。  •  分享这篇文章
  •  新浪微博
  •  QQ空间
  •  腾讯微博
  •  人人网
  •  更多分享方式
  •  65
  •  « 上一篇
  •  |
  •  下一篇 »
你也许会喜欢这些文章：
  •  我们的测试驱动开发经验
  •  测试驱动开发上的五大错误
  •  软件测试不是一个功能
  •  我的神呀，测试驱动开发真的有效！
  •  测试驱动开发(TDD)跟敏捷开发有冲突
《“你这不是测试驱动开发”》有 6 条评论
  •  Sweet说： 2011年08月25日9:57 上午
什么叫测试驱动开发？
 是不是为测试而设计，而不是为功能而设计？保证每个模块，每个子程序都能被单独的测试？
回复  •  丫头说： 2011年08月26日9:11 下午
觉得你说的“为测试而设计，而不是为功能而设计”更像是可测性探讨的问题。
测试驱动开发是一种设计方法论，属于敏捷开发的一种核心实践。一家之言啊:)
回复  •  六子liu说： 2011年09月14日5:13 下午
测试驱动开发是测试先行，第一步全部测试失败，第二步让测试通过。意在写出具有可测试性的程序。也算设计的一种方式。
回复  •  wheat说： 2011年08月25日10:18 上午
任何一个改动只应会让一个测试失败。
 这个简直太难了。
回复  •  yokes说： 2012年11月29日9:20 下午
国内有几家公司搞了单元测试的？
 特别是小公司。
 我现在做项目搞单元测试，结果发现团队里竟然没一个会。
 悲剧。。
回复  •  randomid说： 2013年01月27日11:09 下午
不会也可以很好的完成项目 很多理论来到tc就不接地气
回复发表评论 取消回复
电子邮件地址不会被公开。 必填项已用*标注
姓名 * 
电子邮件 * 
站点 
评论
您可以使用这些HTML标签和属性： <a href="" title=""> <abbr title=""> <acronym title=""> <b> <blockquote cite=""> <cite> <code> <del datetime=""> <em> <i> <q cite=""> <strike> <strong> 
  发表评论    2330    0  
  caee3945ca  
  •  
  •  
文章分类
  •  Java评论
  •  创业理想
  •  团队建设
  •  幽默讽刺
  •  心得体会
  •  思想人生
  •  批评评论
  •  技术技巧
  •  敏捷开发
  •  文档手册
  •  新闻资讯
  •  杂项
  •  求职招聘
  •  移动开发
  •  软件工具
  •  
最受欢迎的文章
  •  232 
Facebook停机事件详细技术内幕
  •  126 
为什么我辞职去创办一个科技公司
  •  218 
为什么程序员的工作效率跟他们的工资不成比例
  •  168   pixar  
皮克斯动画讲故事的22条法则
  •  255 
开通腾讯微博
  •  129 
好程序需要你写(至少)两遍
  •  301   Tank-2  
自由的公司环境是造就优秀程序员的摇篮
  •  104   时钟  
我没有时间
  •  105 
“测试是浪费时间，我的程序肯定没问题”
  •  174   time  
为什么程序员预估的时间都不靠谱
  •  106 
好代码不值钱
  •  111 
程序员和青蛙公主
  •  208   晨跑  
10个让你早起的技巧
  •  167 
我不是天才
  •  318   Daisy  
要死的人都后悔些什么
  •  326   名人名言  
编程名言名句
  •  127   linux-1  
每个程序员都应该知道的8个Linux命令
  •  234 
框架会使程序员变笨吗？
  •  2082   beaches_08  
旅行，写作，编程
  •  118 
谁说使用Python你就写不出混乱的代码？
  •  
外刊IT评论
  •  Today
  •  Monday
  •  Sunday
  •  Saturday
  •  Friday
  •  Thursday
  •  Wednesday
网站导航
  •  首页 
  •  全部文章
  •  关于本站
  •  联系我们
特色栏目
  •  十大传文
  •  十大评论
  •  编程视频
  •  全部文章
订阅我们
  •  RSS订阅
  •  邮件订阅
关注我们  •  新浪微博
  •  腾讯微博
  •  Twitter
  •  RSS
You had mail. Paul read it, so ask him what it said.
  知识共享许可协议  
本作品采用知识共享署名-非商业性使用-相同方式共享 3.0 Unported许可协议进行许可。
 备案信息：京ICP备12002735号   京公网安备11010802009600号
